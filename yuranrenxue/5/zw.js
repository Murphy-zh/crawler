const { JSDOM } = require('jsdom');

const jsdom = new JSDOM('<!doctype html><html><body></body></html>');
const { window } = jsdom;

global.window = window;
global.document = window.document;

_0x4e96b4 = window;
window.$_tb = [];
window.$_zw = [];
let m = Math.abs((Date.parse(new Date()) >> 8) / 1000);
let $_t1 = Date.parse(new Date());
m = m.toString();
for (let i = 200; i <= m; i++) {
    let f = String.fromCharCode(i);
    try {
        if (f !== "$") {
            eval('window.' + f + '=$("' + String.fromCharCode(i >> (m.substring(m.length - 1))) + '")');
            window.$_tb.push(i << 8);
        }
    } catch (e) {}
}
// _0x4e96b4.$_ts = $('a').css("cursor", "pointer");
_0x4e96b4.$_jd = window.$_tb.toString();
_0x4e96b4.$_b4 = Buffer.from(window.$_jd).toString('base64');
_0x4e96b4.$_zw.push(window.$_b4.length);
_0x4e96b4.$_zw.push(window.$_b4);
_0x4e96b4.$_zw.push(window.$_jd);
_0x4e96b4.$_zw.push(window.$_tb.length);
_0x4e96b4.$_zw.push(window.$_jd.split(',').length);
_0x4e96b4.$_zw.push(window.$_zw[3] === window.$_zw[4]);
_0x4e96b4.$_zw.push('明说了，这个数组是指纹');
_0x4e96b4.$_zw.push(Date);
_0x4e96b4.$_zw.push(String);
_0x4e96b4.$_zw.push(eval);
_0x4e96b4.$_zw.push(window);
_0x4e96b4.$_zw.push(document);
try {
    _0x4e96b4.$_zw.push(global);
} catch (e) {
    _0x4e96b4.$_zw.push(setInterval)
}
try {
    _0x4e96b4.$_zw.push($('script'));
} catch (e) {
    _0x4e96b4.$_zw.push(_0x4e96b4.document.location);
}
_0x4e96b4.$_zw.push(Error);
_0x4e96b4.$_zw.push(Array);
_0x4e96b4.$_zw.push(Object);
_0x4e96b4.$_zw.push(unescape);
_0x4e96b4.$_zw.push(parseInt);
_0x4e96b4.$_zw.push(encodeURIComponent);
_0x4e96b4.$_zw.push(Function);
_0x4e96b4.$_zw.push(new Array());
_0x4e96b4.$_zw.push(new Array());
_0x4e96b4.$_zw.push($_t1);
__xx = []
__yy = []
_0x4e96b4.$_zw[21].push(__xx);
_0x4e96b4.$_zw[22].push(__yy);
_0x4e96b4['$_zw']['push'](_0x4e96b4['$_zw'][7].parse(new _0x4e96b4['$_zw'][7]()));

console.log(_0x4e96b4.$_zw.length)
// console.log(_0x4e96b4.$_zw)
console.log(_0x4e96b4.$_zw[23])



// // RM4hZBv0dDon443M
// // _0x4e96b4 = window

// // _0xc77418('0x6', 'OCbs') = '_$qF'
// // ts = "1614597624888" //13位时间戳

// _0x4e96b4['_$qF'] = CryptoJS.enc.Utf8.parse(window.btoa(ts.slice(0,16)))

// // _0x4e96b4['_$pr'] = 时间戳的加密 + m的加密

// _0x4e96b4['_$pr'] = ["4009e52e3b45ef5d3a2b890862dafc3c", "b74c6b6e74c49e7d4a666654342edfb1", "02b31f8127c33a30d071470df434ecf9", "662b5e9621a46078a5101283ac47ec3f", md5_m]

// var $Ww = CryptoJS.enc.Utf8.parse(_0x4e96b4['_$pr'].toString())
// var _0x29dd83 = CryptoJS.AES.encrypt($Ww,_0x4e96b4['_$qF'],{'mode': CryptoJS.mode.ECB,'padding':CryptoJS.pad.Pkcs7,})
// _0x4e96b4["ss"] =  _0x29dd83.toString();
// console.log(_0x4e96b4["ss"])